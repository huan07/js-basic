<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="S-UA-Compatible" content="IE=IEVersion">
    <title></title>
    <style>
        button:focus {
            background-color: red
        }
    </style>
    <script>
        alert(document.readyState);
    </script>
</head>
<body>
<div id="myDiv"></div>

<p class="selected">outer p</p>
<img class="button" src="https://www.baidu.com/img/bd_logo1.png?qua=high" alt="" width="270" height="129">

<div id="myDiv2" class="bd user disabled">
    <p class="selected">inner p</p>
    <img class="button" src="https://www.baidu.com/img/bd_logo1.png?qua=high" alt="" width="370" height="229">
</div>

<button id="myButton">button focus test</button>

<div id="myDiv3" data-appId="12345" data-appX="67890" data-myname="yh">data-</div>

<div id="myDiv4"></div>
<div id="myDiv5"></div>

<ul id="myUl" style="margin-top: 50px;"></ul>

<div id="myDiv6">
    <p>测试innerText取值</p>
    <ul>
        <li>列表项1</li>
        <li>列表项2</li>
    </ul>
</div>
<div id="myDiv7">
    <p>测试innerText赋值</p>
    <ul>
        <li>列表项1</li>
        <li>列表项2</li>
    </ul>
</div>


<div id="myDiv8">
    <p>测试outerText取值</p>
    <ul>
        <li>列表项11</li>
        <li>列表项22</li>
    </ul>
</div>
<div id="myDiv9">
    <p>测试outerText赋值</p>
    <ul>
        <li>列表项11</li>
        <li>列表项22</li>
    </ul>
</div>


<script>
    // querySelector, querySelectorAll
    var body = document.querySelector('body');
    var myDiv = document.querySelector('#myDiv');
    var outerP = document.querySelector('.selected');
    var outerImg = document.body.querySelector('img.button');
    console.log(body, myDiv, outerP, outerImg);

    var myDiv2 = document.querySelector('#myDiv2');
    var innerP = myDiv2.querySelector('.selected');
    var innerImg = myDiv2.querySelector('img.button');
    console.log(myDiv2, innerP, innerImg);

    var p = document.querySelector('.selected');
    var img = document.querySelectorAll('img.button');
    console.log(p, img);
    console.log(document.getElementById('myDiv2').querySelectorAll('p'), document.querySelectorAll('#myDiv2 img'));
</script>
<script>
    // classList
    var myDiv2 = document.querySelector('#myDiv2');
    var classNames = myDiv2.className.split(/\s+/); // 删除类名的某一项
    var pos = 0;
    for (var i = 0, len = classNames.length; i < len; i++) {
        if ((classNames[i]) === 'disabled') {
            pos = i;
            break;
        }
    }
    classNames.splice(pos, 1);
    myDiv2.className = classNames.join(' ');
</script>

<script>
    // activeElement
    console.log(document.activeElement);
    var myBtn = document.getElementById('myButton');
    myBtn.focus();
    console.log(document.activeElement === myBtn, document.hasFocus());
    alert(document.activeElement.tagName);

    alert(document.readyState);
</script>

<script>
    console.log('document.compatMode  =  ', document.compatMode, 'document.documentMode  =  ', document.documentMode,);

    console.log(document.charset);
    document.charset = 'UTF-16'; // 不管用
    console.log(document.charset, document.defaultCharset, document.defaultCharset === document.charset);
</script>
<script>
    // data-
    var div = document.getElementById('myDiv3');
    var appId = div.dataset.appId; // 不管用 取不到值
    var appid = div.dataset.appid; // 取值的是data-appId; 在浏览器显示的是 data-小写 属性;
    var x = div.dataset.appx;
    var myname = div.dataset.myname;
    console.log(appId, appid, x, myname);

    /*div.dataset.appid = 'appid';
     div.dataset.appname = 'appname';*/
</script>

<script>
    // 高薪创建节点的方式：
    // innerHTML 后代元素
    // outerHTML 后代元素及本身
    // innerText 获取后代元素所有的文本  与textContent属性的跨浏览器兼容处理
    // outerText
    var div = document.getElementById('myDiv4');
    div.outerHTML = '<p>test outer HTML</p>';  // div整体被替换了

    var div = document.getElementById('myDiv5');
    var p = document.createElement('p');
    p.appendChild(document.createTextNode('another way to accomplish outer HTML'));
    div.parentNode.replaceChild(p, div);


    // 内存与性能问题
    var myUl = document.getElementById('myUl');
    var liList = ['列表项1', '列表项2', '列表项3', '列表项4', '列表项5'];
    var innerItems = '';
    for (var i = 0, len = liList.length; i < len; i++) {
        innerItems += '<li>' + liList[i] + '</li>';
    }
    myUl.innerHTML = innerItems;


    var div = document.getElementById('myDiv6');
    console.log('div.innerText = ', div.innerText);
    document.getElementById('myDiv7').innerText = '测试 innerText 赋值 先前代后代元素整体被移除';

    var div = document.getElementById('myDiv8');
    console.log('div.outerText = ', div.outerText);
    document.getElementById('myDiv9').outerText = '测试 outerText 赋值  整体包括本身标签都被替换，类似replace';
</script>

<script>
    document.getElementById('myUl').scrollIntoView(); // ???
</script>

<script>
    var containsFlag = document.documentElement.contains(document.body);
    console.log('containsFlag', containsFlag);
</script>
</body>
</html>