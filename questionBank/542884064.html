<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    // 作用域，
    (function() {
        var a = b = 5;
    })();
    // console.log(a); error 未定义
    console.log(b); // 5 没有用var  成为全局变量


    // 变量声明提升
    var foo = 5
    function bar() {
        console.log(foo);
        var foo = 2;
        console.log(foo);
    }
    bar(); // undefined 2
    // 可以改写为
    var foo2 = 5;
    function bar2() {
        var foo2;
        console.log(foo2);
        foo2 = 2;
        console.log(foo2);
    }
</script>

<script>
    // 闭包  和红皮书上的一摸一样
    var name = "The Window";
    var object = {
        name: "My Object",
        getNameFunc: function() {
            return function() {
                return this.name;
            };
        }
    };
    console.log(object.getNameFunc, object.getNameFunc(), object.getNameFunc()());


    var name = "The Window";
    var object = {
        name: "My Object",
        getNameFunc: function() {
            var that = this;
            return function() {
                return that.name;
            };
        }
    };
    console.log(object.getNameFunc()());


</script>

</body>
</html>