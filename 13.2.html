<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body > * {
            display: block;
            margin: 0 0 20px 50px;
        }
    </style>
</head>
<body>

<input type="button" value="click me" onclick="alert('Clicked')" />
<input type="button" value="click me" onclick="showMessage()" />
<input type="button" value="click me" onclick="xx()">
<input type="button" value="click me" onclick="try{xx();}catch(ex){}">
<!-- 局部变量event 事件对象 可以直接访问的-->
<input type="button" value="click me event" onclick="console.log(event,event.type,event.target,event.target.value)" />

<!-- this 事件的目标元素-->
<input type="button" value="click me6 this 目标元素" onclick="alert(this)" />
<input type="button" value="click me7 this.value" onclick="alert(this.value)" />


<input type="button" value="click me9" id="btn9" />
<input type="button" value="click me10" id="btn10" /><br><br>

<!-- 动态创建函数 with扩展作用域 to add-->


<!-- DOM0级事件处理程序 -->
<input type="button" value="click DOM0级事件处理程序" id="btnDOM0" />

<!-- DOM2级事件处理程序 -->
<input type="button" value="click DOM2级事件处理程序" id="btnDOM2" />

<!-- IE事件处理程序 -->
<input type="button" value="click IE事件处理程序" id="btnIE" />

<!-- 跨浏览器的处理程序 -->
<input type="button" value="click btn14 跨浏览器的处理程序" id="btn14" />


<script type="text/javascript">
    function showMessage(){
        alert("hello baidu");
    }
</script>


<script>
    var btn = document.getElementById('btnDOM0');
    btn.onclick = function(){
        alert('click DOM0级事件处理程序');
        alert(this.id); // 在元素的作用域中运行 this引用当前元素 在冒泡阶段被处理
        alert('this === window  ' + (this === window)); // false
        alert('this === event.target  ' + (this === event.target)); // true
    };

    //  btn.onclick = null;
</script>

<script>
    var btn = document.getElementById('btnDOM2');
    var alertFun = function(){
        alert('click DOM2级事件处理程序');
    };
    btn.addEventListener('click', alertFun, false); // 在元素的作用域中运行 false 冒泡阶段 最大限度的兼容各种浏览器
    btn.addEventListener('click', function(event){ // 事件 从上到下 执行
        alert(this.id);
        alert('this === window  ' + (this === window)); // false
        alert('this === event.target  ' + (this === event.target)); // true
    }, false);
    // btn.removeEventListener('click', alertFun, false);
</script>

<script>
    var btn = document.getElementById('btnIE');
    var attchFun = function(){
        alert('click IE事件处理程序');
    };
    btn.attachEvent('onclick', attchFun); // 在全局作用域执行 只支持事件冒泡  btn.attachEvent undefined TypeError when at chrome
    btn.attachEvent('onclick', function(){ // 事件 从下到上 执行
        alert('clicked again');
        alert(this.id);
        alert('this === window' + (this === window)); // true
    });
    // btn.detachEvent('onclick', attchFun);
</script>

<script>
    var EventUtil = {
        addHandler: function(element, type, handler){
            if (element.addEventListener) {
                element.addEventListener(type, handler, false);
            } else if (element.attachEvent) {
                element.attachEvent('on' + type, handler);
            } else {
                element['on' + type] = handler;
            }
        },
        removeHandler: function(element, type, handler){
            if (element.removeEventListener) {
                element.removeEventListener(type, handler, false);
            } else if (element.detachEvent) {
                element.detachEvent('on' + type, handler);
            } else {
                element['on' + type] = null;
            }
        }
    };
    var btn = document.getElementById('btn14');
    var btnHandler = function(){
        console.log('btn14Handler');
    };
    EventUtil.addHandler(btn, 'click', btnHandler);
    //EventUtil.removeHandler(btn, 'click', btnHandler);
</script>


</body>
</html>