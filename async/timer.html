<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        .animation {
            width: 400px;
            height: 50px;
        }
    </style>
</head>
<body>
<div class="animation" style="background: pink"></div>

<script>
    function f(){
        console.log('0 => ');
    }

    setTimeout(f, 0);

    setTimeout(f);

    //
    setTimeout(function(a, b){
        console.log('a, b => ', a, b);
    }, 10, '第1个参数', '第2个参数');
</script>

<script>
    var x = 1;
    var obj = {
        x: 2,
        y: function(){
            console.log(this.x, this);
        }
    };
    setTimeout(obj.y, 10); // 10ms后运行时 this => Window (非严格模式下)

    // 解决方式1
    setTimeout(function fixed(){
        // 使得obj.y在obj的作用域执行
        obj.y();
    }, 11);

    // 解决方式2
    setTimeout(obj.y.bind(obj), 12);
</script>

<script>
    var animation = document.getElementsByClassName('animation')[0];
    var opacity = 1;
    var fader = setInterval(function(){
        opacity -= 0.05;
        if (opacity >= 0.1) {
            animation.style.opacity = opacity;
        } else {
            clearInterval(fader);
        }
    }, 500);
</script>

<script>
    // setInterval的一个常见用途是实现轮询 to do

</script>

<script>
    // 为了确保两次执行之间有固定的间隔 用setTimeout模拟setInterval  to do

</script>

<script>
    // 取消当前所有的setTimeout定时器
    (function(){
        var gid = setInterval(clearAllTimeouts, 0);

        function clearAllTimeouts(){
            var id = setTimeout(function(){ // id > gid

            }, 0);

            for (; id > 0; id--) {
                if (id !== gid) {
                    //clearTimeout(id);
                }
            }
        }
    })();
</script>

</body>
</html>