<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>6.3.1原型链</title>
</head>
<body>
<script>
    // 继承
    // 原型链
    // 基本思想：利用原型让一个引用类型继承另一个引用类型的属性和方法
</script>

<script>
    // 构造函数
    // 原型
    // 实例

    // 实例与原型的链条  ＝> 原型链
    function SuperType(){
        this.property = `property`;
    }
    SuperType.prototype.getSuperValue = function(){
        return this.property;
    };

    function SubType(){
        this.subproperty = `subproperty`;
    }
    SubType.prototype = new SuperType(); // 继承方式 创建实例来重写原型对象：！！！具有  SuperType实例  所有的属性和方法！！！！！！！！
    SubType.prototype.getSubValue = function(){ // 添加方法 / 覆盖方法 要写在后面     2.不能用对象字面量，会覆盖上面的
        return this.subproperty;
    };

    var parent = new SuperType();
    var child = new SubType();
    console.log(parent.property, parent.getSuperValue(),);
    console.log(child.subproperty, child.getSubValue(), child.property, child.getSuperValue());

    console.log('instanceof    ==   ');
    console.log(parent instanceof SuperType, parent instanceof Object);
    console.log(child instanceof SubType, child instanceof SuperType, child instanceof Object);

    console.log('xx.prototype.isPrototypeOf      ==      ');
    console.log(SubType.prototype.isPrototypeOf(child), SuperType.prototype.isPrototypeOf(child), Object.prototype.isPrototypeOf(child));

    console.log('constructor    ==  ');
    console.log(SuperType.prototype.constructor, SuperType.prototype.constructor === SuperType);
    console.log(SubType.prototype.constructor, SubType.prototype.constructor === SubType, SubType.prototype.constructor === SuperType);

    // 原型链搜索机制
    // 搜索实例
    // 搜索自己的prototype
    // 搜索父类的prototype    父类的实例属性、方法不会被共享！！！！！！！！
</script>

<script>
    // 原型链的问题
    // 1.包含引用类型值的原型  子类的原型 变成父类的实例，父类的实例属性被子类共享；
    // 2.在创建子类的实例时，不能向父类的构造函数传递参数
    function SuperType(){
        this.colors = ['red', 'red2', 'red3'];
    }

    function SubType(){

    }
    SubType.prototype = new SuperType();
    var instance1 = new SubType();
    instance1.colors.push('black');
    console.log(instance1.colors);

    var instance2 = new SubType();
    console.log(instance2.colors);
</script>


</body>
</html>