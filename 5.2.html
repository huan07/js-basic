<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>5.2</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

<script>
    // 确保arr=[]，调用API，否则的话会报错；
    var colors = new Array();  // 1

    var colors2 = new Array(20); // 2
    var colors2_ = Array(20);

    var colors3 = new Array('yh', 30, 'baidu'); // 3
    var colors3_ = Array('yh', 30, 'baidu');

    var colors4 = []; // 4

    var colors5 = ['yh', 30, 'baidu']; // 5 used
    console.log(colors, colors2, colors2_, colors3, colors3_, colors4, colors5);


    // 数组项的读写
    var colors = ['red', 'blue', 'green'];
    console.log('读', colors[0]);

    colors[1] = 'blue yellow';
    console.log('改', colors);

    colors[5] = 'white';
    console.log('增', colors);

    // 数组的length属性增删
    var colors = ['red2', 'blue2', 'green2', 'black2'];
    colors.length = 5;
    console.log('增', colors);

    colors.length = 3;
    console.log('删', colors);

    // 数组末尾添加新项
    var colors = ['red3', 'blue3', 'green3', 'black3'];
    colors[colors.length] = 'colorX';
    console.log('数组末尾 增', colors);

    colors[colors.length] = 'colorY';
    console.log('数组末尾 增', colors);
</script>

<script>
    console.log('// 检测数组==========================');
    // 1.一个网页／一个全局作用域
    console.log('colors5 instanceof Array', colors5 instanceof Array);

    // 2.不管是哪个全局执行环境中创建的 但是有些浏览器不支持
    console.log('Array.isArray(colors5)', Array.isArray(colors5));

    // 3.join
    console.log(["yh", 30, "baidu"].join(""));
    console.log(["yh", 30, "baidu"].join("||"));

    console.log(["yh", 30, "baidu"].join(","));
    console.log(["yh", 30, "baidu"].join());
    console.log(["yh", 30, "baidu"].join(undefined));

    console.log([null, undefined, "baidu"].join(","));
</script>

<script>
    console.log('// 数组 栈方法    ====项的插入push、移除pop发生在栈的顶部(数组末尾)  后进先出===================');
    var colors = [];
    var count = colors.push('red', 'black');
    console.log('push', colors, count);

    count = colors.push('yellow');
    console.log('push', colors, count);

    var lastItem = colors.pop();
    console.log('pop', colors, lastItem);
</script>

<script>
    console.log('// 数组 队列方法========从列表的前端移除shift, 末端添加push  先进先出========== ');
    var colors = [];
    var count = colors.push('red2', 'black2');
    console.log('push', colors, count);

    count = colors.push('yellow2');
    console.log('push', colors, count);

    var firstItem = colors.shift();
    console.log('shift', colors, firstItem);


    console.log('模拟 反队列方法，数组前端添加unshift，末端移除pop，');
    var colors = [];
    var count = colors.unshift('red3', 'black3');
    console.log('unshift', colors, count);

    count = colors.unshift('yellow3');
    console.log('unshift', colors, count);

    var lastItem = colors.pop();
    console.log('pop', colors, lastItem);
</script>

<script>
    console.log('// 数组 重排序 方法=============================');
    var values = [1, 10, 2, 20, 3, 30];
    values.reverse();
    console.log('values.reverse()反转数组项 => ', values);

    var values = [0, 1, 5, 10, 15];
    values.sort();
    console.log('values.sort()将数组的每一项调用toString,比较的是 逐个字符对应的字符编码值，默认升序排列', values);


    console.log('sort()接收 比较函数 作为参数=============================');
    function compare11(value1, value2){  // 升序
        if (value1 < value2) {
            return -1;
        } else if (value1 > value2) {
            return 1;
        } else {
            return 0;
        }
    }
    var values = [0, 1, 5, 10, 15];
    values.sort(compare11);
    console.log('values.sort(compare11) => ', values);


    function compare22(value1, value2){  // 降序
        if (value1 < value2) {
            return 1;
        } else if (value1 > value2) {
            return -1;
        } else {
            return 0;
        }
    }
    var values = [0, 1, 5, 10, 15];
    values.sort(compare22);
    console.log('values.sort(compare22) => ', values);


    function compare33(value1, value2){ // 升序 简易版 针对数值类型
        return value1 - value2;
    }
    var values = [0, 1, 5, 10, 15];
    values.sort(compare33);
    console.log('values.sort(compare33) => ', values);


    function compare44(value1, value2){ // 降序 简易版 针对数值类型
        return value2 - value1;
    }
    var values = [0, 1, 5, 10, 15];
    values.sort(compare44);
    console.log('values.sort(compare44) => ', values);
</script>

<script>
    console.log('concat 创建当前数组副本，并且向尾部追加元素／数组的每一项， 返回新的数组================');
    var colors11 = ['red', 'blue'];
    var colors12 = colors11.concat(); // 创建副本
    var colors13 = colors11.concat('yellow', ['1', '2']);
    console.log(colors11);
    console.log(colors12);
    console.log(colors13);

    console.log('slice 截取数组的一部分， 返回新的数组==============================================');
    var colors14 = ['red2', 'blue2', 'yellow2', '12', '22'];
    var colors15 = colors14.slice(0); // 创建副本
    var colors15_ = colors14.slice();
    var colors16 = colors14.slice(0, 2); // 不包括结束位置的项，
    console.log(colors14, colors15, colors15_, colors16);


    console.log('splice 执行数组的 增 删 改====================');
    var colors17 = ['red3', 'blue3', 'yellow3', 'green3'];
    colors17.splice(1, 0, 'white3', 'black3'); // 在 第1个位置之前 增
    console.log('增', colors17);

    var colors18 = ['red4', 'blue4', 'yellow4', 'green4'];
    colors18.splice(1, 2); // 从 第1个位置开始 删，包括第1个位置值
    console.log('删', colors18);

    colors18.splice(0, 1);
    console.log('删', colors18);


    var colors19 = ['red5', 'blue5', 'yellow5', 'green5'];
    colors19.splice(1, 2, 'white5', 'black5');
    console.log('改', colors19); // 从 第1个位置开始 改，包括第1个位置值
</script>

<script>
    console.log('indexOf, lastIndexOf  全等比较，返回首次找到项的序号／－1');
    var numbers = [0, '1', 2, '3', 4, 0, '1', 2, '3', 4];
    console.log(numbers.indexOf('1'), numbers.indexOf('1', 4));

    console.log(numbers.lastIndexOf('3'), numbers.lastIndexOf('3', 4));

    console.log(numbers.indexOf(11));
</script>

<script>
    // 对空数组不会执行，不会改变原始数组
    // every,some 返回boolean
    var numbers = [0, 1, 2, 3, 4, 5, 4, 3, 2, 1];
    var everyResult = numbers.every(function(item, index, array){
        return item > 3;
    });
    var someResult = numbers.some(function(item, index, array){
        return item > 3;
    });
    console.log('everyResult => ', everyResult);
    console.log('someResult => ', someResult);
</script>

<script>
    // 对空数组不会执行，不会改变原始数组
    // filter 返回true的项 组成的新的array，
    // map 返回新的array
    var filterResult = numbers.filter(function(item, index, array){ //
        return item > 3;
    });
    console.log('filterResult => ', filterResult);

    var mapResult = numbers.map(function(item, index, array){
        return item + 100;
    });
    console.log('mapResult => ', mapResult);

    // forEach 执行某些操作，没有返回值，不能中途退出循环 和 for循环类型功能   对空数组不会执行
</script>

<script>
    // 对空数组不会执行，不会改变原始数组
    // find 找到第一个返回true的项，item/undefined
    // findIndex 找到第一个返回true的序号，index/-1
    // 可以接收第二个参数
    var numbers = [0, 11, 2, 3, 4, 5, 4, 3, 2, 1];
    var findResult = numbers.find(function(item, index, array){
        return item > 3;
    });
    console.log('findResult => ', findResult);

    var findIndexResult = numbers.findIndex(function(item, index, array){
        return item > 3;
    });
    console.log('findIndexResult => ', findIndexResult);

    var person = {
        name: 'yh',
        age: 30
    };
    var xx = numbers.find(function(item, index, array){
        return item > this.age; // this对象指向person对象
    }, person);
    console.log('接收第二个参数 => ', xx);
</script>

<script>
    // reduce reduceRight 归并数组
    var values = [1, 2, 3, 4, 5];
    var sum = values.reduce(function(prev, cur, index, array){
        // 1, 2, 1
        // 计算的结果作为prev值，cur取数组中的下一个值
        return prev + cur;
    });

    var sum2 = values.reduce(function(prev, cur, index, array){
        // 10000, 1, 0 ( index => cur的序号 )
        return prev + cur;
    }, 10000);
    console.log('reduce => ', sum, sum2);
</script>

</body>
</html>