<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>7.3</title>
</head>
<body>

<script>
    // 没有块级作用域
    function outputNumber(count){
        for (var i = 0; i < count; i++) {
            console.log(i);
        }

        console.log(i);
    }
    outputNumber(3);

    function outputNumber2(count){
        for (var i = 0; i < count; i++) {
            console.log(i);
        }

        var i; // 对后续的声明 视而不见
        console.log(i);
    }
    outputNumber2(3);

</script>

<script>
    // 匿名函数用途：2.自我执行，模仿块级作用域
    // 私有作用域场景：临时需要的变量
    // 优势：减少闭包占用的内存问题；只要函数执行完毕 立即销毁其作用域链

    (function(){ // 代码执行到这一步，立即执行；
        // 理解成 一个函数表达式（只有函数表达式可以带上括号），
        // 这个函数表达式立即执行，执行结束后匿名函数内部变量被销毁！！

        // 块级作用域
        // 函数声明后面不能直接带括号，
    })();

    function outputNumber3(count){
        (function(){
            for (var i = 0; i < count; i++) {
                console.log(i);
            }
        })(); // 执行结束时内部变量被销毁

        //console.log(i); // 未声明报错
    }
    outputNumber3(3);

    // example
    (function(){
        console.log('no value');
    })();

    var a = (function(){
        return 'return value';
    })();
    console.log(a);
</script>

</body>
</html>