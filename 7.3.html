<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>7.3</title>
</head>
<body>

<script>
    // 没有块级作用域，只有函数作用域
    function outputNumber(count){
        for (var i = 0; i < count; i++) {
            console.log(i);
        }

        console.log(i);
    }
    outputNumber(3);

    function outputNumber2(count){
        for (var i = 0; i < count; i++) {
            console.log(i);
        }

        var i; // 对后续的声明 视而不见
        console.log(i);
    }
    outputNumber2(3);
</script>

<script>
    // 匿名函数用途：2.自我执行，模仿块级作用域
    // 私有作用域场景：临时需要的变量
    // 优势：减少闭包占用的内存问题；只要函数执行完毕 立即销毁其作用域链，！！！！
    // (内部变量被销毁, 少污染全局环境，局部变量的查找速度更快)
    (function(){
        // 块级作用域
        // 函数声明包含在圆括号内，表示 函数表达式
    })();


    function outputNumber3(count){
        (function(){  // 匿名函数是一个闭包，可以通过作用域链访问包含函数的变量count ！！！！
            for (var i = 0; i < count; i++) {
                console.log(i);
            } // 执行结束时 i 被销毁
        })();

        //console.log(i); // 未声明报错
    }
    outputNumber3(3);

    // 用法1
    (function(){
        console.log('no value');
    })();

    // 用法2
    var a = function(){
        return 'return value';
    }();
    console.log(a);
</script>

</body>
</html>