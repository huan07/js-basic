<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>5.4</title>
</head>
<body>

<script>
    // 创建正则表达式
    // 1.字面量
    // 2.RegExp构造函数

    var re = null;
    var i;
    for (i = 0; i < 3; i++) {
        re = /cat/g;
        var xx = re.test('catastrophe'); // 没有失败呢？？
        console.log(xx);
    }


    var re = null;
    var i;
    for (i = 0; i < 3; i++) {
        re = new RegExp('cat', 'g');
        var xx = re.test('catastrophe');
        console.log(xx);
    }
</script>

<script>
    // 1.exec
    // return [] or null ;
    var text = 'mom and dad and baby';
    var patt = /mom( and dad( and baby)?)?/gi;
    var matches = patt.exec(text);
    console.log('1 => ', matches);

    console.log(matches.index, matches.input);


    var patt2 = /mom( and dad)?/gi;
    var matches = patt2.exec(text);
    console.log('2 => ', matches);
    /*
     console.log(matches.index, matches.input);*/


    var patt3 = /mom/gi;
    var matches = patt3.exec(text);
    console.log('3 => ', matches);
    /*
     console.log(matches.index, matches.input);*/
</script>
<script>
    var text = 'cat, bat, sat, fat';
    var patt = /.at/;
    var matches = patt.exec(text);
    console.log('exec不设置g 始终返回第一个匹配项 => ', matches);

    matches = patt.exec(text);
    console.log(matches);

    matches = patt.exec(text);
    console.log(matches);
</script>
<script>
    var text = 'cat, bat, sat, fat';
    var patt = /.at/g;
    var matches = patt.exec(text);
    console.log('exec设置g 继续查找新匹配项 => ', matches);

    matches = patt.exec(text);
    console.log(matches);

    matches = patt.exec(text);
    console.log(matches);
</script>

<script>
    // 2.test
    // return boolean
    var text = '000-00-0000';
    var patt = /\d{3}-\d{2}-\d{4}/;
    if (patt.test(text)) {
        console.log('the patt was matched. ');
    }
</script>

<script>
    var patt = new RegExp('cat', 'g');
    console.log('继承方法 => ', patt.toString(), patt.valueOf())
</script>

</body>
</html>