<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<input type="button" value="事件处理程序，浏览器的兼容性处理方式" id="btn1">
<script>
    // 1.1
    // DOM0级事件处理 btn.onclick=function(){}
    // DOM2级事件处理 addEventListener
    // IE级事件处理 attachEvent


    // 1.2
    var eventHandler = {
        addHandler: function(eventEle, eventName, fun){
            if (eventEle.addEventListener) {
                eventEle.addEventListener(eventName, fun, false);
            } else if (eventEle.attachEvent) {
                eventEle.attachEvent('on' + eventName, fun);
            } else {
                eventEle['on' + eventName] = fun;
            }
        },
        removeHandler: function(eventEle, eventName, fun){
            if (eventEle.removeEventListener) {
                eventEle.removeEventListener(eventName, fun, false);
            } else if (eventEle.detachEvent) {
                eventEle.detachEvent('on' + eventName, fun);
            } else {
                eventEle['on' + eventName] = null;
            }
        }
    };
    var btn = document.getElementById('btn1');
    /*    eventHandler.addHandler(btn, 'click', function(){
     alert('addHandler');
     });
     setTimeout(function(){
     eventHandler.removeHandler(btn, 'click', function(){
     alert('addHandler');
     })
     }, 2000); // 移除不了事件处理程序！！！！！*/

    //
    var handlerFun = function(){
        alert('handler function');
    };
    eventHandler.addHandler(btn, 'click', handlerFun);
    setTimeout(function(){
        eventHandler.removeHandler(btn, 'click', handlerFun);
    }, 5000);
</script>

<script>
    // instanceof  instance.__proto__.constructor === 函数即可返回true
    // 2.1
    function A(){

    }
    var a1 = new A();
    var a2 = A();
    console.log('A');
    console.log(a1 instanceof A);
    console.log(a2 instanceof A);


    // 2.2
    // 创建一个对象
    // this => 创建后的对象
    // 执行函数体的代码
    // 返回对象


    // 2.3
    function B(){
        return {};
    }
    var b1 = new B();
    var b2 = B();
    console.log('B');
    console.log(b1 instanceof B); // to do
    console.log(b2 instanceof B);

    function C(){
        return 'C';
    }
    var c1 = new C();
    var c2 = C();
    console.log('C');
    console.log(c1 instanceof C); // to do
    console.log(c2 instanceof C);
</script>

<script>
    // 4.1
    var xhr = new XMLHttpRequest();

    xhr.open('get', 'url', true);

    xhr.send(null);

    xhr.onreadystatechange = function(){
        if (xhr.readyState === 4) {
            if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {
                console.log(xhr.response);
            } else {
                console.log(xhr.status);
            }
        }
    }
</script>

</body>
</html>